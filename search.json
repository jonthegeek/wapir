[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Web APIs with R",
    "section": "",
    "text": "Welcome\nLast updated: 2024-02-25 17:18:19 CST\nThis is the website for the work-in-progress book, Web APIs with R. This book will teach you how to work with the web from your R session. This book will be published as part of The R Series from CRC Press.\nThis website is free to use, and is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.\nThe code contained in this book is simultaneously available under the MIT license; this means that you are free to use it in your own packages, as long as you cite the source.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#want-to-help",
    "href": "index.html#want-to-help",
    "title": "Web APIs with R",
    "section": "Want to help?",
    "text": "Want to help?\nI am writing this book in a GitHub repository. Follow the “Edit this page” or “Report an issue” links in the table of contents if you would like to help!",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#the-data-science-learning-community",
    "href": "index.html#the-data-science-learning-community",
    "title": "Web APIs with R",
    "section": "The Data Science Learning Community",
    "text": "The Data Science Learning Community\nIf you would like to discuss the contents of this book (or any other data-related topic), join the Data Science Learning Community Slack.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#code-of-conduct",
    "href": "index.html#code-of-conduct",
    "title": "Web APIs with R",
    "section": "Code of Conduct",
    "text": "Code of Conduct\nPlease note that Web APIs with R is released with a Contributor Code of Conduct. By contributing to this project, you agree to abide by its terms.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "1.1 Who should read this book?\nThis might overlap with the “What will I learn?” section. It feels like a good thing to have up front to entice people to read or buy the book, though.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#what-will-i-learn",
    "href": "intro.html#what-will-i-learn",
    "title": "1  Introduction",
    "section": "1.2 What will I learn?",
    "text": "1.2 What will I learn?\nDescribe the overall goals, and explain the learning objective hierarchy. Maybe this is before or instead of who should read?\nMaybe put the landscape here, and intro the structure of the book earlier. How will I learn? maybe?",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#what-wont-i-learn",
    "href": "intro.html#what-wont-i-learn",
    "title": "1  Introduction",
    "section": "1.3 What won’t I learn?",
    "text": "1.3 What won’t I learn?\nI like the idea of this section, but I don’t know if it will fit.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#how-is-this-book-organized",
    "href": "intro.html#how-is-this-book-organized",
    "title": "1  Introduction",
    "section": "1.4 How is this book organized?",
    "text": "1.4 How is this book organized?\nI’d love to know!",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#what-should-i-already-know",
    "href": "intro.html#what-should-i-already-know",
    "title": "1  Introduction",
    "section": "1.5 What should I already know?",
    "text": "1.5 What should I already know?\nDescribe what we expect people to already know. Include references to other books: R4DS, AdvR, RPkgs, Do4DS, maybe MShiny. Note that each part and/or chapter will describe the prerequisites for that part. Most of those books will be places to find more info or to dive deeper into a topic.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#how-do-i-run-the-code",
    "href": "intro.html#how-do-i-run-the-code",
    "title": "1  Introduction",
    "section": "1.6 How do I run the code?",
    "text": "1.6 How do I run the code?\nExplain what code looks like here vs to the user. Give a disclaimer that open source software changes so things might change, and that we’ll try to keep the online version up-to-date. Potentially link to additional resources, maybe a book package.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#acknowledgements",
    "href": "intro.html#acknowledgements",
    "title": "1  Introduction",
    "section": "1.7 Acknowledgements",
    "text": "1.7 Acknowledgements\nThis is the acknowledgement that appears in the actual book. RStudio has code to auto-generate it, consider something similar.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#footnotes",
    "href": "intro.html#footnotes",
    "title": "1  Introduction",
    "section": "",
    "text": "API stands for “application programming interface,” but you will almost always see it written as “API.” It’s pronounced “A P I.”↩︎",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "part_accessing.html",
    "href": "part_accessing.html",
    "title": "How can I get web data into R?",
    "section": "",
    "text": "This is an intro to a part.\nThese are the chapters, introduced with a phrase that encapsulates them:\n\nDescribe the chapter. Reference it with a tag.\nDescribe another chapter. Reference it with a tag.\n\nAnd then a sentence or paragraph about any leftovers.",
    "crumbs": [
      "How can I get web data into R?"
    ]
  },
  {
    "objectID": "apis.html",
    "href": "apis.html",
    "title": "2  How do computers communicate?",
    "section": "",
    "text": "2.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>How do computers communicate?</span>"
    ]
  },
  {
    "objectID": "apis.html#introduction",
    "href": "apis.html#introduction",
    "title": "2  How do computers communicate?",
    "section": "",
    "text": "2.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nExplain what an API is.\nIdentify the pieces of an HTTP request.\nDescribe how accessing a web page through a browser involves an HTTP request.\nCompare and contrast HTTP-based API frameworks.\nRecognize other web API protocols.\n\n\n\n2.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>How do computers communicate?</span>"
    ]
  },
  {
    "objectID": "httr2.html",
    "href": "httr2.html",
    "title": "3  How can I access APIs from R?",
    "section": "",
    "text": "3.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>How can I access APIs from R?</span>"
    ]
  },
  {
    "objectID": "httr2.html#introduction",
    "href": "httr2.html#introduction",
    "title": "3  How can I access APIs from R?",
    "section": "",
    "text": "3.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nDescribe how {httr2} calls are structured.\nCreate and modify an {httr2} request.\nAccess an HTTP API with {httr2}.\n\n\n\n3.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)\nTODO: Somewhere in here, include something along the line of “Principles.”\n\nMake as few separate requests as possible.\nOnly request what you need (make requests as small as possible).",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>How can I access APIs from R?</span>"
    ]
  },
  {
    "objectID": "httr2-authentication.html",
    "href": "httr2-authentication.html",
    "title": "4  How do I tell the API who I am?",
    "section": "",
    "text": "4.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>How do I tell the API who I am?</span>"
    ]
  },
  {
    "objectID": "httr2-authentication.html#introduction",
    "href": "httr2-authentication.html#introduction",
    "title": "4  How do I tell the API who I am?",
    "section": "",
    "text": "4.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nCompare and contrast authentication schemes.\nDescribe the dangers associated with “leaking” credentials.\nFind authentication information in API docs.\nAuthenticate a request with a username and password.\nAuthenticate a request with an API key.\nAuthenticate a request with the “OAuth dance.”\nRe-authenticate OAuth requests.\nAuthenticate with browser cookies.\nTODO: LOs about other schemes?\n\n\n\n4.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>How do I tell the API who I am?</span>"
    ]
  },
  {
    "objectID": "httr2-responses.html",
    "href": "httr2-responses.html",
    "title": "5  How can I process API responses?",
    "section": "",
    "text": "5.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>How can I process API responses?</span>"
    ]
  },
  {
    "objectID": "httr2-responses.html#introduction",
    "href": "httr2-responses.html#introduction",
    "title": "5  How can I process API responses?",
    "section": "",
    "text": "5.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nRecognize the types of API responses.\nRecognize JSON data structures.\nRecognize XML data structures.\nParse text responses.\nParse nested lists with the {tidyverse}.\nParse nested lists with {tibblify}.\nUse API docs to anticipate API responses.\nParse binary responses such as images and videos.\n\n\n\n5.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>How can I process API responses?</span>"
    ]
  },
  {
    "objectID": "httr2-perform.html",
    "href": "httr2-perform.html",
    "title": "6  How can I get a lot of data from an API?",
    "section": "",
    "text": "6.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>How can I get a lot of data from an API?</span>"
    ]
  },
  {
    "objectID": "httr2-perform.html#introduction",
    "href": "httr2-perform.html#introduction",
    "title": "6  How can I get a lot of data from an API?",
    "section": "",
    "text": "6.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nControl the behavior of large requests.\nDeal with errors in api calls.\nRequest paginated data.\nPerform multiple requests.\nStream data from an API.\n\n\n\n6.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>How can I get a lot of data from an API?</span>"
    ]
  },
  {
    "objectID": "apis-find.html",
    "href": "apis-find.html",
    "title": "7  How can I find APIs?",
    "section": "",
    "text": "7.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>How can I find APIs?</span>"
    ]
  },
  {
    "objectID": "apis-find.html#introduction",
    "href": "apis-find.html#introduction",
    "title": "7  How can I find APIs?",
    "section": "",
    "text": "7.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\n\n7.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>How can I find APIs?</span>"
    ]
  },
  {
    "objectID": "apis-packages.html",
    "href": "apis-packages.html",
    "title": "8  How can I find API-wrapping packages?",
    "section": "",
    "text": "8.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>How can I find API-wrapping packages?</span>"
    ]
  },
  {
    "objectID": "apis-packages.html#introduction",
    "href": "apis-packages.html#introduction",
    "title": "8  How can I find API-wrapping packages?",
    "section": "",
    "text": "8.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nUse tools::CRAN_package_db() to search for packages.\nSearch the R-universe.\nUse {anyapi} to search for packages.\n\n\n\n8.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>How can I find API-wrapping packages?</span>"
    ]
  },
  {
    "objectID": "accessing-other.html",
    "href": "accessing-other.html",
    "title": "9  How else can I communicate with APIs from R?",
    "section": "",
    "text": "9.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>How else can I communicate with APIs from R?</span>"
    ]
  },
  {
    "objectID": "accessing-other.html#introduction",
    "href": "accessing-other.html#introduction",
    "title": "9  How else can I communicate with APIs from R?",
    "section": "",
    "text": "Learning Objectives\nAfter you read this chapter, you will be able to:\n\nFetch data from GraphQL APIs.\nFetch data from websocket APIs.\nFetch data from gRPC APIs.",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>How else can I communicate with APIs from R?</span>"
    ]
  },
  {
    "objectID": "rvest.html",
    "href": "rvest.html",
    "title": "10  How can I get data from web pages?",
    "section": "",
    "text": "10.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#introduction",
    "href": "rvest.html#introduction",
    "title": "10  How can I get data from web pages?",
    "section": "",
    "text": "Learning Objectives\nAfter you read this chapter, you will be able to:\n\nDetermine whether a website allows you to scrape data from it.\nDetermine whether you should scrape data from a web page.\nScrape tables from web pages.\nScrape more complex data structures from web pages.\n\n(potential chapter break)\n\nScrape data from websites that require you to log in.\nScrape content that requires interaction.\nAutomate web scraping processes.\nScrape data as part of a workflow.\nPrerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#should-i-scrape-this-data",
    "href": "rvest.html#should-i-scrape-this-data",
    "title": "10  How can I get data from web pages?",
    "section": "\n10.2 Should I scrape this data?",
    "text": "10.2 Should I scrape this data?\nWhen you see data online that you think you could use, stop to answer these three questions:\n\nAm I legally allowed to scrape this data?\nAm I allowed to scrape this data automatically?\nDo I need to scrape this data with code?\n\n\n10.2.1 Am I legally allowed to scrape this data?\nI am an R developer, not a lawyer, and none of this should be construed as legal advice. If you’re going to use the data in a commercial product, you may want to consult a lawyer. That said, these guidelines should get you started in most cases.\nIf you’re using the data for your own exploration or for nonprofit educational purposes, you’re almost definitely free to use the data however you like. Copyright cases tend to involve either making money off of the work, or making it harder for the owner of the work to use it to make money.\nAlso check the site for legal disclaimers. These are usually located at the bottom of the page, or possibly somewhere on the first page of the site. Look for words or phrases like “Legal,” “License,” “Code of Conduct”, “Usage”, or “Disclaimers.” Sometimes the site explicitly grants the right to use the data, which will generally supersede any general legal protection.\nIf you’re going to publish (or otherwise share) the data, and you can’t find anything on the site given you permission, you’ll have to decide if your use case is allowed. In the United States, facts are not protected by copyright.1 TODO: DIFFERENT EXAMPLE, EVERYONE USES RECIPES! That’s why cook books and online recipes tend to devote as much space (or more) to stories than to the recipes themselves — the recipes are facts and thus don’t have copyright protection in the U.S. However, a collection of facts (such as the data you’re trying to scrape) can be protected in the U.S. if that collection was selected by a person.\n\n“These choices as to selection and arrangement, so long as they are made independently by the compiler and entail a minimal degree of creativity, are sufficiently original that Congress may protect such compilations through the copyright laws”2\n\nOutside the U.S., protections may be stronger or weaker. For example, the European Union established specific legal protections for databases in a directive on the legal protection of databases. If you’re going to publish the data, investigate legal requirements in your location.\n\n10.2.2 Am I allowed to scrape this data automatically?\nEven if it is legal for you to use the data, it might not be polite to do so. For example, the site might have preferences about which pages can be accessed by code, or specific protections or guidelines about certain pages. Most websites list these preference in a robots.txt file at the root of the site. For example, the robots.txt file for the online version of this book is available at https://jonthegeek.github.io/wapir/robots.txt. This file might contain one or a few lines.\n\n\n\nhttps://wapir.io/robots.txt\n\n# TODO: Replace this with the final version for this book.\n\nSitemap: https://wapir.io/sitemap.xml\n\n\nThings to put into this section:\n\nrobots.txt (search for \"User-agent: *\" and the particular page you want to scrape)\nLicenses & legal usage. IANAL.\nIs it worth scraping? Will {datapasta} cover it?\nQuickly identifying whether it will be hard.\nLook for an API to use instead of scraping. Just introduce the idea then point to that chapter.\nEven when robots.txt allows scraping, give tips on how to be a good citizen.\n{polite} package? I think probably focus more on learning to read robots.txt and how to implement things in rvest (and later httr2), but I should at least mention {polite}.",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#how-can-i-scrape-a-table-of-data-from-a-web-page",
    "href": "rvest.html#how-can-i-scrape-a-table-of-data-from-a-web-page",
    "title": "10  How can I get data from web pages?",
    "section": "\n10.3 How can I scrape a table of data from a web page?",
    "text": "10.3 How can I scrape a table of data from a web page?\n\nBasic intro to {rvest}.\n\nScrape a static table in this repo where html_table works out of the box. It looks like it’ll get a single table without any fuss.\nBRIEFLY touch on data cleaning, but send them to R4DS for more details.\nShow an example with multiple tables & how to deal with that (pre-SelectorGadget).",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#how-can-i-scrape-more-complex-data-from-a-web-page",
    "href": "rvest.html#how-can-i-scrape-more-complex-data-from-a-web-page",
    "title": "10  How can I get data from web pages?",
    "section": "\n10.4 How can I scrape more complex data from a web page?",
    "text": "10.4 How can I scrape more complex data from a web page?\n\nUsing SelectorGadget.\n\nStart by reproducing the table scrape, without SelectorGadget (basically just do what )\nA second table where html_table doesn’t work as well (weird headers or something). Maybe; the next example might be enough.\nA web page with structured content that isn’t in a table. Like the Star Wars example in rvest, but someting else. Maybe information about HTTP request methods? Oh, or Xpath rules!\n\n\nCSS selectors\n\nStart by digging into what SelectorGadget produced for the examples above/what it means.\nAdd an example where it’s way more straightforward to do things sequentially (structured data in a particular cell of a particular table, something like that).\nCSS selectors vs Xpath. Hmm. Which is more straightforward? Probably teach Xpath because it lets you do all the things. Nope, CSS selectors can also do all the things, and they overlap with actual CSS which is useful in its own right! Consider teaching both, at least briefly, and point to MDN or w3schools for more. FWIW, rvest translates everything to xpath via selectr::css_to_xpath().\nIf Xpath: Note the difference between \".//\" (search below the current node) and \"//\" (search anywhere in the document). You never want just \"//\" in a pipe, because it ignores previous steps (well, except MAYBE if you’re using a selection to go back and find something else)! Probably put this in a call out.\nMaybe note that a lot of {rvest} is reexports from {xml2}?\nAlso note the flatten argument for xml2::xml_find_all()! By default it de-duplicates, so watch out if you’re trying to align lists. Make sure this behaves how I think it does, and, if so, provide an example where it matters. This appears to be the only place where I need to bring up {xml2} directly, but probably point it out for further reading.\n\nhtml_attrs() (list all of the attributes) vs html_attr() (get a specific attribute). Similar to attributes() vs attr().\nA con of CSS selectors: Can’t go back up the tree! I feel like this is probably important in some contexts. If there’s a legitimate case where this is true, use that as the reason to focus on Xpath.",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#ideas-to-cover",
    "href": "rvest.html#ideas-to-cover",
    "title": "10  How can I get data from web pages?",
    "section": "Ideas to cover",
    "text": "Ideas to cover\n\nAdvanced {rvest} techniques.\n\nCan I ~easily deploy something that requires a session?\nIs the session stuff in {rvest} relatively stable? How might the {chromote} PR impact it?\nAre there options other than {rvest} that I should explore? {RSelenium}, {chromote} worth mentions, or too different?\nBridge into {httr2}. Don’t write this yet, bridges should be written last!\nLarger-than-memory scraping, splitting scrapes, etc.\n\n\nAutomation.\n\nRefining selections toward “what” vs “how” & “where”, trying to make your selections less fragile.\nDeduplication.\nError handling.\nLogging? Likely mention and point to do4ds for more details (or just a specific logging package).\nMention packages for notification that a job is finished (from {beepr} to an email or Slack message… but maybe use those to tease later chapters).\n\n\n{targets}?\n\nAt least mention.\nDig into this to see how quickly I could introduce without it growing into a separate thing.",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#another-exploration",
    "href": "rvest.html#another-exploration",
    "title": "10  How can I get data from web pages?",
    "section": "Another Exploration",
    "text": "Another Exploration\nSuggested by Emir Bilim on R4DS, let them know when it’s worked out! Also include a case like this in the Appendix!\n\nlibrary(rvest)\nurl &lt;- \"https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&guccounter=1\"\n\n## Annual only for now.\n\n# Cache the read during experimentation so you don't hit it over and over.\nraw_html &lt;- rvest::read_html(url)\n\nannual_cells &lt;-\n    raw_html |&gt; \n    rvest::html_element(\n        xpath = \".//div[@class='M(0) Whs(n) BdEnd Bdc($seperatorColor) D(itb)']\"\n    ) |&gt; \n    rvest::html_text2() |&gt; \n    # The text comes in as a single block separated by newlines (\\n).\n    stringr::str_split_1(stringr::fixed(\"\\n\"))\n\n# The first text to come in is the column headers. We want to go through the\n# last one that's a date.\nannual_date_cell_numbers &lt;- stringr::str_which(\n    annual_cells, \"^\\\\d{1,2}/\\\\d{1,2}/\\\\d{4}$\"\n)\nlast_date_cell_number &lt;- max(annual_date_cell_numbers)\n\nannual &lt;- \n    annual_cells |&gt; \n    # We're going to transpose the table as we go; rows will become columns,\n    # columns will become rows. It's tidier that way. The last date is our last\n    # column.\n    matrix(nrow = last_date_cell_number, byrow = FALSE) |&gt; \n    as.data.frame() |&gt; \n    janitor::row_to_names(row_number = 1) |&gt; \n    tibble::as_tibble()\n\n# That gets the a good start on the \"Annual\" data; it just needs normal cleaning\n# from there. It does NOT include the breakdowns yet, though. I believe both\n# that and Quarterly will require some session fanciness. To be continued!",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "rvest.html#footnotes",
    "href": "rvest.html#footnotes",
    "title": "10  How can I get data from web pages?",
    "section": "",
    "text": "See the U.S. Copyright Office Fair Use Index for a detailed discussion of the legal definition of fair use in the United States, and an index of related court decisions.↩︎\nFeist Publications, Inc. v. Rural Telephone Service Co., 499 U. S. 340 (1991)↩︎",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>How can I get data from web pages?</span>"
    ]
  },
  {
    "objectID": "accessing-more.html",
    "href": "accessing-more.html",
    "title": "11  How can I learn more about accessing web APIs?",
    "section": "",
    "text": "11.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>How can I learn more about accessing web APIs?</span>"
    ]
  },
  {
    "objectID": "accessing-more.html#introduction",
    "href": "accessing-more.html#introduction",
    "title": "11  How can I learn more about accessing web APIs?",
    "section": "",
    "text": "11.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\n\n11.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I get web data into R?",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>How can I learn more about accessing web APIs?</span>"
    ]
  },
  {
    "objectID": "part_creating.html",
    "href": "part_creating.html",
    "title": "How can I create my own APIs with R?",
    "section": "",
    "text": "TODO:\n\nConsider adding a chapter on securing APIs (or at least include it in deploy.qmd).\nSame for scaling. Scaling should almost definitely go inside deploy.qmd.\n\nThis is an intro to a part.\nThese are the chapters, introduced with a phrase that encapsulates them:\n\nDescribe the chapter. Reference it with a tag.\nDescribe another chapter. Reference it with a tag.\n\nAnd then a sentence or paragraph about any leftovers.",
    "crumbs": [
      "How can I create my own APIs with R?"
    ]
  },
  {
    "objectID": "plumber-intro.html",
    "href": "plumber-intro.html",
    "title": "12  How can I create my own APIs?",
    "section": "",
    "text": "12.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>How can I create my own APIs?</span>"
    ]
  },
  {
    "objectID": "plumber-intro.html#introduction",
    "href": "plumber-intro.html#introduction",
    "title": "12  How can I create my own APIs?",
    "section": "",
    "text": "12.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nCreate an API with {plumber}.\nOrganize {plumber} API projects.\nDesign a RESTful API.\nImplement a RESTful API in {plumber}.\nUse {plumber} filters to process an API request.\nUse {plumber} hooks to modify an API.\nDebug a {plumber} API.\n\n\n\n12.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>How can I create my own APIs?</span>"
    ]
  },
  {
    "objectID": "plumber-input.html",
    "href": "plumber-input.html",
    "title": "13  How can I get inputs from API users?",
    "section": "",
    "text": "13.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>How can I get inputs from API users?</span>"
    ]
  },
  {
    "objectID": "plumber-input.html#introduction",
    "href": "plumber-input.html#introduction",
    "title": "13  How can I get inputs from API users?",
    "section": "",
    "text": "13.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nDecide whether API inputs should be passed in the path, query, body, header, or cookie.\nProcess API arguments directly from the request object.\nProcess API arguments specified in the path.\nProcess API arguments passed in the query string.\nProcess API arguments passed in the request body.\nProcess API arguments sent as a header.\nProcess API arguments stored in a cookie.\n\n\n\n13.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>How can I get inputs from API users?</span>"
    ]
  },
  {
    "objectID": "plumber-output.html",
    "href": "plumber-output.html",
    "title": "14  How can I control API output?",
    "section": "",
    "text": "14.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>How can I control API output?</span>"
    ]
  },
  {
    "objectID": "plumber-output.html#introduction",
    "href": "plumber-output.html#introduction",
    "title": "14  How can I control API output?",
    "section": "",
    "text": "14.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nReturn data from an endpoint.\nReturn text from an endpoint.\nReturn an image from an endpoint.\nReturn something else from an endpoint.\n\n\n\n14.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>How can I control API output?</span>"
    ]
  },
  {
    "objectID": "plumber-errors.html",
    "href": "plumber-errors.html",
    "title": "15  How can I handle API errors?",
    "section": "",
    "text": "15.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>How can I handle API errors?</span>"
    ]
  },
  {
    "objectID": "plumber-errors.html#introduction",
    "href": "plumber-errors.html#introduction",
    "title": "15  How can I handle API errors?",
    "section": "",
    "text": "15.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nDescribe how {plumber} handles errors by default.\nSend different error messages to the server than to the client.\nDescribe the possible responses from an endpoint.\nReturn useful error responses from an endpoint.\n\n\n\n15.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>How can I handle API errors?</span>"
    ]
  },
  {
    "objectID": "plumber-security.html",
    "href": "plumber-security.html",
    "title": "16  How can I secure my APIs?",
    "section": "",
    "text": "16.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>How can I secure my APIs?</span>"
    ]
  },
  {
    "objectID": "plumber-security.html#introduction",
    "href": "plumber-security.html#introduction",
    "title": "16  How can I secure my APIs?",
    "section": "",
    "text": "16.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nImplement API keys for a plumber API.\nImplement OAuth2 authentication for a plumber API.\nUse cookies to save and restore API user state.\nSet and read encrypted cookies for API users.\n(Something about things like Posit Connect?)\n\n\n\n16.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>How can I secure my APIs?</span>"
    ]
  },
  {
    "objectID": "plumber-test.html",
    "href": "plumber-test.html",
    "title": "17  How can I test my plumber API?",
    "section": "",
    "text": "17.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>How can I test my plumber API?</span>"
    ]
  },
  {
    "objectID": "plumber-test.html#introduction",
    "href": "plumber-test.html#introduction",
    "title": "17  How can I test my plumber API?",
    "section": "",
    "text": "17.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nMinimize API-specific code in your functions.\nWrap an API into an R package.\nTest functions with {testthat}.\nTest API-specific functions with req arguments.\nTest {plumber} routers.\n\n\n\n17.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>17</span>  <span class='chapter-title'>How can I test my plumber API?</span>"
    ]
  },
  {
    "objectID": "plumber-deploy.html",
    "href": "plumber-deploy.html",
    "title": "18  How do I deploy my plumber API?",
    "section": "",
    "text": "18.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>How do I deploy my plumber API?</span>"
    ]
  },
  {
    "objectID": "plumber-deploy.html#introduction",
    "href": "plumber-deploy.html#introduction",
    "title": "18  How do I deploy my plumber API?",
    "section": "",
    "text": "18.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\nDeploy a {plumber} API to Posit Cloud.\nDeploy a {plumber} API to Posit Connect.\nDeploy a {plumber} API to DigitalOcean with {plumberDeploy}.\nRun a {plumber} API in a Docker container.\nManage a Dockerized {plumber} API with Kubernetes (K8s).\nDeploy a K8s {plumber} API to GCS.\nDeploy a K8s {plumber} API to AWS.\n\n\n\n18.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>18</span>  <span class='chapter-title'>How do I deploy my plumber API?</span>"
    ]
  },
  {
    "objectID": "creating-more.html",
    "href": "creating-more.html",
    "title": "19  How can I learn more about creating APIs?",
    "section": "",
    "text": "19.1 Introduction\n(introduction will be written ~last)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>How can I learn more about creating APIs?</span>"
    ]
  },
  {
    "objectID": "creating-more.html#introduction",
    "href": "creating-more.html#introduction",
    "title": "19  How can I learn more about creating APIs?",
    "section": "",
    "text": "19.1.1 Learning Objectives\nAfter you read this chapter, you will be able to:\n\n\n19.1.2 Prerequisites\n(prerequisites will be filled in as I write, if I decide to keep this section)",
    "crumbs": [
      "How can I create my own APIs with R?",
      "<span class='chapter-number'>19</span>  <span class='chapter-title'>How can I learn more about creating APIs?</span>"
    ]
  },
  {
    "objectID": "part_use-cases.html",
    "href": "part_use-cases.html",
    "title": "What are some ways I can use web APIs?",
    "section": "",
    "text": "This part will give concrete examples of using different APIs or families of APIs. This might just be an appendix pointing to examples throughout the chapters? I’m not sure yet.\nThese are the chapters, introduced with a phrase that encapsulates them:\n\nDescribe the chapter. Reference it with a tag.\nDescribe another chapter. Reference it with a tag.\n\nAnd then a sentence or paragraph about any leftovers.",
    "crumbs": [
      "What are some ways I can use web APIs?"
    ]
  },
  {
    "objectID": "examples-toy.html",
    "href": "examples-toy.html",
    "title": "Appendix A — Toy Examples",
    "section": "",
    "text": "A.1 Introduction\nThis is an appendix. These will be toy examples, to be used with exercises.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>Toy Examples</span>"
    ]
  },
  {
    "objectID": "plumber-missing-manual.html",
    "href": "plumber-missing-manual.html",
    "title": "Appendix B — plumber: The Missing Manual",
    "section": "",
    "text": "B.1 Introduction\nThis is an appendix. I hope to not need this, but for now I’m planning to document things in plumber that aren’t well-documented by plumber itself. These are things that I had to dig through code to find.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>plumber: The Missing Manual</span>"
    ]
  },
  {
    "objectID": "plumber-missing-manual.html#response-methods",
    "href": "plumber-missing-manual.html#response-methods",
    "title": "Appendix B — plumber: The Missing Manual",
    "section": "B.2 Response Methods",
    "text": "B.2 Response Methods\nThe res object that’s available in most plumber functions is an R6 object defined in PlumberResponse. It has these public methods (partially documented in the Rendering Output Vignette:\n\nsetHeader(name, value)\ntoResponse() (hidden inputs: self$headers, self$body, self$status)\nsetCookie(name, value, path = NULL, expiration = FALSE, http = FALSE, secure = FALSE, same_site = FALSE)\n\nKinda documented in session_cookie() (and related docs), but it isn’t clear until you dig.\n\nremoveCookies(name, path = NULL, http = FALSE, secure = FALSE, same_site = FALSE, ...)\n\n... isn’t used\nSends a directive to expire the cookie “Thu, 01 Jan 1970 00:00:00 GMT”, which hopefully results in the cookie being deleted.",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>plumber: The Missing Manual</span>"
    ]
  }
]